(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(57),s=n.n(a),i=(n(72),n(28)),o=n(5),j=(n(73),n(17)),u=n.n(j),l=n(24),d=n(8),b=n(60),h="/api/",p=n.n(b).a.create({withCredentials:!0}),x=function(e,t){return m(e,"GET",t)};function m(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function e(t){var n,c,r,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",c=a.length>2&&void 0!==a[2]?a[2]:null,e.prev=2,e.next=5,p({url:"".concat(h).concat(t),method:n,data:c,params:"GET"===n?c:null});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(c)),console.dir(e.t0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function v(){return(v=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("movie",{q:t});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(){return(f=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("movie/".concat(t));case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Movie not found");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var g={query:function(e){return v.apply(this,arguments)},getById:function(e){return f.apply(this,arguments)}},w=n(1),y=function(e){var t=e.handleSubmit,n=Object(c.useState)(""),r=Object(d.a)(n,2),a=r[0],s=r[1];return Object(w.jsx)("section",{className:"search-movie",children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a)},children:[Object(w.jsx)("input",{type:"text",placeholder:"Enter movie name",value:a,onChange:function(e){var t=e.target;s(t.value)}}),Object(w.jsx)("button",{type:"submit",disabled:!a,children:"Search"})]})})},N=n(125),S=n(129),k=n(128),I=n(127),E=n(124),D=n(130),B=n(64),C=n.n(B);function P(e){var t=e.img,n=e.txt1,c=e.txt2,r=(e.txt3,e.btn);return Object(w.jsxs)(N.a,{className:"movie-card",sx:{maxWidth:345},style:{backgroundColor:"#ffffff57"},children:[Object(w.jsx)(k.a,{component:"img",height:"140",image:t}),Object(w.jsxs)(S.a,{children:[Object(w.jsx)(I.a,{className:"txt-1",gutterBottom:!0,variant:"h5",component:"div",children:n}),Object(w.jsx)(I.a,{className:"txt-2",variant:"subtitle2",children:c})]}),r&&Object(w.jsx)(D.a,{children:Object(w.jsx)(E.a,{size:"small",children:Object(w.jsx)(C.a,{fontSize:"large"})})})]})}var T=n.p+"static/media/No_image_available.7ec9e7d5.png",A=function(e){var t=e.movie;return Object(w.jsx)("div",{className:"movie-preview",children:Object(w.jsx)(i.b,{to:"/".concat(t.imdbID),children:Object(w.jsx)(P,{txt1:t.Title,txt2:t.Year,img:"N/A"===t.Poster?T:t.Poster})})})},R=function(e){var t=e.movies;return Object(w.jsx)("div",{className:"movie-list",children:t.map((function(e){return Object(w.jsx)(A,{movie:e},e.imdbID)}))})},M=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(d.a)(a,2),i=s[0],j=s[1],b=Object(o.e)().search,h=new URLSearchParams(b);Object(c.useEffect)((function(){var e=h.get("q");e&&p(e)}),[]);var p=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!1),r([]),e.next=5,g.query(t);case 5:n=e.sent,r(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),j(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("section",{className:"home",children:[Object(w.jsxs)("div",{className:"title",children:[Object(w.jsx)("h2",{children:"Welcome to Movie Finder!"}),Object(w.jsx)("h3",{children:"Please enter movie name and press Search button"}),Object(w.jsx)(y,{handleSubmit:p})]}),i&&Object(w.jsx)("h1",{children:"Sorry, can't find your movie right now. please try again later"}),Array.isArray(n)&&0!==n.length&&Object(w.jsx)(R,{movies:n})]})},F=n.p+"static/media/three-dots.85961182.svg",q=function(){return Object(w.jsx)("img",{className:"loader",src:F,alt:""})},G=function(e){var t=e.rating;return Object(w.jsxs)("p",{children:["Source: ",t.Source,". score: ",t.Value]})},L=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(d.a)(a,2),i=s[0],j=s[1],b=Object(o.f)(),h=Object(o.g)().omdbID;Object(c.useEffect)((function(){p(h)}),[h]);var p=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.getById(t);case 3:n=e.sent,r(n),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),j(!0),setTimeout(x,3e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){b("/")};return i?Object(w.jsx)("div",{className:"item-details",children:Object(w.jsx)("h1",{children:"No video found. Redirecting"})}):n?Object(w.jsxs)("div",{className:"item-details",children:[Object(w.jsx)("img",{src:"N/A"===n.poster?T:n.poster,alt:""}),Object(w.jsxs)("div",{className:"details-data",children:[Object(w.jsxs)("p",{children:["Title: ",n.title]}),Object(w.jsxs)("p",{children:["Release date: ",n.released]}),Object(w.jsxs)("p",{children:["Rated: ",n.rated]}),Object(w.jsxs)("p",{children:["Genre: ",n.genre]}),Object(w.jsxs)("p",{children:["Director: ",n.director]}),Object(w.jsxs)("p",{children:["Writer: ",n.writer]}),Object(w.jsxs)("p",{children:["Actors: ",n.actors]}),Object(w.jsxs)("p",{children:["Plot: ",n.plot]}),Object(w.jsxs)("p",{children:["Language: ",n.language]}),Object(w.jsxs)("p",{children:["Country: ",n.country]}),Object(w.jsxs)("p",{children:["Awards: ",n.awards]}),Object(w.jsxs)("div",{children:["Ratings: ",n.ratings.map((function(e){return Object(w.jsx)(G,{rating:e},e.Source)}))]}),Object(w.jsxs)("p",{children:["Metascore: ",n.metascore]}),Object(w.jsxs)("p",{children:["IMDB Rating: ",n.imdbRating]}),Object(w.jsxs)("p",{children:["IMDB Votes: ",n.imdbVotes]}),Object(w.jsxs)("p",{children:["Production: ",n.production]}),Object(w.jsxs)("p",{children:["Website: ",n.website]})]}),Object(w.jsx)("div",{className:"item-actions",children:Object(w.jsx)(E.a,{onClick:x,children:"Back to search"})})]}):Object(w.jsx)(q,{})},W=[{path:"/",element:Object(w.jsx)(M,{})},{path:"/:omdbID",element:Object(w.jsx)(L,{})}];var V=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(i.a,{children:Object(w.jsx)("main",{children:Object(w.jsx)(o.c,{children:W.map((function(e){return Object(w.jsx)(o.a,{exact:!0,element:e.element,path:e.path},e.path)}))})})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,131)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(V,{})}),document.getElementById("root")),z()},72:function(e,t,n){},73:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.66c1d74d.chunk.js.map